{"ast":null,"code":"import React,{useRef,useState}from\"react\";import Header from\"./Header\";import{auth}from\"../utils/firebase\";import{createUserWithEmailAndPassword,signInWithEmailAndPassword,updateCurrentUser}from\"firebase/auth\";import{updateProfile}from'firebase/auth';import{checkValidation}from\"../utils/validate\";import{useNavigate}from\"react-router-dom\";import{useDispatch,useSelector}from\"react-redux\";import{addUser}from\"../utils/userSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[isSignIn,setIsSignIn]=useState(true);const dispatch=useDispatch();const navigate=useNavigate();const toggleSignIn=()=>{setIsSignIn(!isSignIn);};const[errorMessage,setErrorMessage]=useState(null);const email=useRef(null);const user=useSelector(store=>store.user);const password=useRef(null);const handleClick=()=>{//console.log(email.current.value, password.current.value);\nsetErrorMessage(checkValidation(email.current.value,password.current.value));if(isSignIn){//sign in\nsignInWithEmailAndPassword(auth,email.current.value,password.current.value).then(userCredential=>{const user=userCredential.user;updateProfile(auth.currentUser,{displayName:\"Jane Q. User\",photoURL:\"https://i.pinimg.com/736x/ec/65/40/ec65407c06bcdd015a81e76add16d55c.jpg\"}).then(()=>{const{uid,email,displayName,photoURL}=auth.currentUser();dispatch(addUser({uid:uid,email:email,displayName:displayName,photoURL:photoURL}));}).catch(error=>{// An error occurred\n// ...\n});navigate('/browse');//console.log(user);\n}).catch(error=>{const errorCode=error.code;const errorMessage=error.message;//console.log(errorCode + \" - \" + errorMessage);\n});}else{//Sign up\ncreateUserWithEmailAndPassword(auth,email.current.value,password.current.value).then(userCredential=>{const user=userCredential.user;//console.log(user);\nnavigate('/browse');}).catch(error=>{const errorCode=error.code;const errorMessage=error.message;//console.log(errorCode + \" - \" + errorMessage);\n});}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"w-full absolute\",src:\"https://assets.nflxext.com/ffe/siteui/vlv3/594f8025-139a-4a35-b58d-4ecf8fdc507c/d3c4e455-f0bf-4003-b7cd-511dda6da82a/IN-en-20240108-popsignuptwoweeks-perspective_alpha_website_large.jpg\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:e=>e.preventDefault(),className:\"w-3/12 absolute p-12 my-32 mx-auto left-0 right-0 bg-black bg-opacity-70\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"w-full text-stone-100 text-2xl font-bold py-4 m-2\",children:isSignIn?\"Sign In\":\"Sign Up\"}),!isSignIn&&/*#__PURE__*/_jsx(\"input\",{className:\"w-full rounded-md p-2 m-2 bg-gray-700\",type:\"text\",placeholder:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{ref:email,className:\"w-full  p-2 m-2 bg-gray-700\",type:\"text\",placeholder:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{ref:password,className:\"w-full  p-2 m-2 bg-gray-700\",type:\"password\",placeholder:\"password\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-300 px-2 m-0\",children:errorMessage}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,className:\"bg-red-600 rounded-md p-2 m-2 w-full text-xl cursor-pointer\",children:isSignIn?\"Sign In\":\"Sign Up\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-white p-4 cursor-pointer\",onClick:toggleSignIn,children:!isSignIn?\"Already registered? Sign in now\":\"New to Netflix? Sign Up here\"})]})})]});};export default Login;","map":{"version":3,"names":["React","useRef","useState","Header","auth","createUserWithEmailAndPassword","signInWithEmailAndPassword","updateCurrentUser","updateProfile","checkValidation","useNavigate","useDispatch","useSelector","addUser","jsx","_jsx","jsxs","_jsxs","Login","isSignIn","setIsSignIn","dispatch","navigate","toggleSignIn","errorMessage","setErrorMessage","email","user","store","password","handleClick","current","value","then","userCredential","currentUser","displayName","photoURL","uid","catch","error","errorCode","code","message","children","className","src","onSubmit","e","preventDefault","type","placeholder","ref","onClick"],"sources":["/Users/akshaykumar/Desktop/projects/React/netflixgpt/src/components/Login.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport Header from \"./Header\";\r\nimport {auth} from \"../utils/firebase\";\r\nimport { createUserWithEmailAndPassword , signInWithEmailAndPassword, updateCurrentUser} from \"firebase/auth\";\r\nimport {updateProfile} from 'firebase/auth'\r\nimport { checkValidation } from \"../utils/validate\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addUser } from \"../utils/userSlice\";\r\nconst Login = () => {\r\n  const [isSignIn, setIsSignIn] = useState(true);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const toggleSignIn = () => {\r\n    setIsSignIn(!isSignIn);\r\n  };\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const email = useRef(null);\r\n  const user = useSelector(store => store.user);\r\n  const password = useRef(null);\r\n  const handleClick = () => {\r\n    //console.log(email.current.value, password.current.value);\r\n    setErrorMessage(\r\n      checkValidation(email.current.value, password.current.value)\r\n    );\r\n    if (isSignIn) {//sign in\r\n      signInWithEmailAndPassword(auth, email.current.value, password.current.value)\r\n        .then((userCredential) => {\r\n          const user = userCredential.user;\r\n          updateProfile(auth.currentUser, {\r\n            displayName: \"Jane Q. User\", photoURL: \"https://i.pinimg.com/736x/ec/65/40/ec65407c06bcdd015a81e76add16d55c.jpg\"\r\n          }).then(() => {\r\n            const {uid,email,displayName,photoURL} = auth.currentUser();\r\n            dispatch(addUser({uid:uid,email:email,displayName:displayName,photoURL:photoURL}));\r\n          }).catch((error) => {\r\n            // An error occurred\r\n            // ...\r\n          });\r\n          navigate('/browse')\r\n          //console.log(user);\r\n        })\r\n        .catch((error) => {\r\n          const errorCode = error.code;\r\n          const errorMessage = error.message;\r\n          //console.log(errorCode + \" - \" + errorMessage);\r\n        });\r\n    } else { //Sign up\r\n      createUserWithEmailAndPassword(auth, email.current.value, password.current.value)\r\n        .then((userCredential) => {\r\n          const user = userCredential.user;\r\n          //console.log(user);\r\n          navigate('/browse');\r\n        })\r\n        .catch((error) => {\r\n          const errorCode = error.code;\r\n          const errorMessage = error.message;\r\n          //console.log(errorCode + \" - \" + errorMessage);\r\n        });\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div>\r\n        <img\r\n          className=\"w-full absolute\"\r\n          src=\"https://assets.nflxext.com/ffe/siteui/vlv3/594f8025-139a-4a35-b58d-4ecf8fdc507c/d3c4e455-f0bf-4003-b7cd-511dda6da82a/IN-en-20240108-popsignuptwoweeks-perspective_alpha_website_large.jpg\"\r\n        ></img>\r\n      </div>\r\n      <div>\r\n        <form\r\n          onSubmit={(e) => e.preventDefault()}\r\n          className=\"w-3/12 absolute p-12 my-32 mx-auto left-0 right-0 bg-black bg-opacity-70\"\r\n        >\r\n          <label className=\"w-full text-stone-100 text-2xl font-bold py-4 m-2\">\r\n            {isSignIn ? \"Sign In\" : \"Sign Up\"}\r\n          </label>\r\n          {!isSignIn && (\r\n            <input\r\n              className=\"w-full rounded-md p-2 m-2 bg-gray-700\"\r\n              type=\"text\"\r\n              placeholder=\"Name\"\r\n            ></input>\r\n          )}\r\n          <input\r\n            ref={email}\r\n            className=\"w-full  p-2 m-2 bg-gray-700\"\r\n            type=\"text\"\r\n            placeholder=\"Email address\"\r\n          ></input>\r\n          <input\r\n            ref={password}\r\n            className=\"w-full  p-2 m-2 bg-gray-700\"\r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n          ></input>\r\n          <p className=\"text-slate-300 px-2 m-0\">{errorMessage}</p>\r\n          <div className=\"text-center\">\r\n            <button\r\n              onClick={handleClick}\r\n              className=\"bg-red-600 rounded-md p-2 m-2 w-full text-xl cursor-pointer\"\r\n            >\r\n              {isSignIn ? \"Sign In\" : \"Sign Up\"}\r\n            </button>\r\n          </div>\r\n          <p className=\"text-white p-4 cursor-pointer\" onClick={toggleSignIn}>\r\n            {!isSignIn\r\n              ? \"Already registered? Sign in now\"\r\n              : \"New to Netflix? Sign Up here\"}\r\n          </p>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}